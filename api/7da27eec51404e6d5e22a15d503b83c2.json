{"title":"RxSwiftï¼ˆä¸€ï¼‰Creating and Subscribing to Observables åˆ›å»ºå’Œè®¢é˜…è§‚å¯Ÿè€…","slug":"RxSwiftï¼ˆä¸€ï¼‰Creating and Subscribing to Observables åˆ›å»ºå’Œè®¢é˜…è§‚å¯Ÿè€…","url":"http://share.ra.com/RxSwiftï¼ˆä¸€ï¼‰Creating and Subscribing to Observables åˆ›å»ºå’Œè®¢é˜…è§‚å¯Ÿè€…","date":"2017-03-22T01:47:37.000Z","updated":"2017-03-22T06:27:06.000Z","comments":true,"excerpt":"","tags":["Swift","RxSwift"],"content":"<h2 id=\"Observable\"><a href=\"#Observable\" class=\"headerlink\" title=\"Observable\"></a>Observable</h2><p>åœ¨ReactiveXä¸­ï¼Œä¸€ä¸ªè§‚å¯Ÿè€…(Observer)è®¢é˜…ä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡(Observable)ã€‚è§‚å¯Ÿè€…å¯¹ Observableå‘å°„çš„æ•°æ®æˆ–æ•°æ®åºåˆ—ä½œå‡ºå“åº”ã€‚è¿™ç§æ¨¡å¼å¯ä»¥æå¤§åœ°ç®€åŒ–å¹¶å‘æ“ä½œï¼Œå› ä¸ºå®ƒåˆ›å»ºäº†ä¸€ä¸ªå¤„äºå¾…å‘½çŠ¶æ€çš„è§‚å¯Ÿè€…å“¨å…µï¼Œåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»å“åº”Observableçš„é€šçŸ¥ï¼Œä¸éœ€è¦é˜»å¡ ç­‰å¾…Observableå‘å°„æ•°æ®ã€‚</p>\n<p><img src=\"http://reactivex.io/assets/operators/legend.png\" alt=\"Observable\" title=\"Observable\"></p>\n<h2 id=\"åˆå§‹åŒ–playground\"><a href=\"#åˆå§‹åŒ–playground\" class=\"headerlink\" title=\"åˆå§‹åŒ–playground\"></a>åˆå§‹åŒ–playground</h2><ul>\n<li>åˆå§‹åŒ–é¡¹ç›®å·¥ç¨‹ï¼Œpodå¼•å…¥RxSwift</li>\n<li>åˆ›å»ºplayground</li>\n<li>åœ¨playground\\Sourcesä¸‹åˆ›å»º support.swiftæ–‡ä»¶ å¡«å†™ä¸‹é¢ä»£ç </li>\n</ul>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Foundation</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">exampleOf</span><span class=\"params\">(description:String, action:  @escaping <span class=\"params\">()</span></span></span>-&gt;<span class=\"type\">Void</span>)  &#123;</div><div class=\"line\">    </div><div class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">\"\\n------exampleOf:<span class=\"subst\">\\(description)</span>------\"</span>)</div><div class=\"line\">    </div><div class=\"line\">    action()</div><div class=\"line\">    </div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> PlaygroundSupport</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">playgroundShouldContinueIndefinitely</span><span class=\"params\">()</span></span> &#123;</div><div class=\"line\">    <span class=\"type\">PlaygroundPage</span>.current.needsIndefiniteExecution = <span class=\"literal\">true</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<ul>\n<li>åœ¨playgroundä¸­å¯¼å…¥RxSwift,RxCocoa</li>\n</ul>\n<h2 id=\"never\"><a href=\"#never\" class=\"headerlink\" title=\"never\"></a>never</h2><p>åˆ›å»ºä¸€ä¸ªä¸å‘å°„ä»»ä½•æ•°æ®çš„Observable</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">exampleOf(description:<span class=\"string\">\"never\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">let</span> disposeBag = <span class=\"type\">DisposeBag</span>()</div><div class=\"line\">    </div><div class=\"line\">    <span class=\"keyword\">let</span> neverSequence = <span class=\"type\">Observable</span>&lt;<span class=\"type\">String</span>&gt;.never()</div><div class=\"line\">    </div><div class=\"line\">    neverSequence.subscribe&#123; <span class=\"number\">_</span> <span class=\"keyword\">in</span></div><div class=\"line\">    </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"æ°¸è¿œä¸ä¼šæ‰§è¡Œ\"</span>)</div><div class=\"line\">        </div><div class=\"line\">    &#125;.disposed(by: disposeBag)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"empty\"><a href=\"#empty\" class=\"headerlink\" title=\"empty\"></a>empty</h2><p>åˆ›å»ºä¸€ä¸ªä»€ä¹ˆéƒ½ä¸åšç›´æ¥é€šçŸ¥å®Œæˆçš„Observable.å®ƒåªå‘é€ .Completed æ¶ˆæ¯ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"empty\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>&lt;<span class=\"type\">Int</span>&gt;.empty()</div><div class=\"line\">        .subscribe&#123; event <span class=\"keyword\">in</span></div><div class=\"line\">            </div><div class=\"line\">            <span class=\"built_in\">print</span>(event)</div><div class=\"line\">            </div><div class=\"line\">    &#125;.disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"just\"><a href=\"#just\" class=\"headerlink\" title=\"just:\"></a>just:</h2><p>å°†ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡è½¬æ¢æˆå‘å°„è¿™ä¸ªæˆ–è¿™äº›å¯¹è±¡çš„ä¸€ä¸ªObservable,just æ˜¯åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ï¼Œå®ƒä¼šå…ˆå‘é€ .Next(value) ï¼Œç„¶åå‘é€ .Completed ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"just\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.just(<span class=\"string\">\"æˆ‘æ˜¯å¯¹è±¡\"</span>)</div><div class=\"line\">        .subscribe&#123; event <span class=\"keyword\">in</span></div><div class=\"line\">            </div><div class=\"line\">    </div><div class=\"line\">            <span class=\"built_in\">print</span>(event)</div><div class=\"line\">    &#125;.addDisposableTo(<span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"of\"><a href=\"#of\" class=\"headerlink\" title=\"of\"></a>of</h2><p>å¯ä»¥æŠŠä¸€ç³»åˆ—å…ƒç´ è½¬æ¢æˆäº‹ä»¶åºåˆ—</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"of\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.of(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>)</div><div class=\"line\">    .subscribe(onNext: &#123; (event) <span class=\"keyword\">in</span></div><div class=\"line\">        <span class=\"built_in\">print</span>(event)</div><div class=\"line\">    &#125;, onError: &#123; (error) <span class=\"keyword\">in</span></div><div class=\"line\">        <span class=\"built_in\">print</span>(error)</div><div class=\"line\">    &#125;, onCompleted: &#123;</div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ä¿¡å·å®Œæˆ\"</span>)</div><div class=\"line\">    &#125;, onDisposed: &#123; </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ä¿¡å·åºåˆ—é‡Šæ”¾\"</span>)</div><div class=\"line\">    &#125;).disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"from\"><a href=\"#from\" class=\"headerlink\" title=\"from\"></a>from</h2><p>from æ˜¯é€šè¿‡ asObservable() æ–¹æ³•æŠŠ Swift ä¸­çš„åºåˆ— (SequenceType) è½¬æ¢æˆäº‹ä»¶åºåˆ—ã€‚ä¾‹å¦‚:å°†ä¸€ä¸ªæ•°ç»„è½¬æ¢æˆä¸€ä¸ªObservable</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"from\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.from([<span class=\"string\">\"lily\"</span>,<span class=\"string\">\"lilei\"</span>,<span class=\"string\">\"sb\"</span>])</div><div class=\"line\">    .subscribe(onNext: &#123;</div><div class=\"line\">        </div><div class=\"line\">        <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">        </div><div class=\"line\">    &#125;).disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"create\"><a href=\"#create\" class=\"headerlink\" title=\"create\"></a>create</h2><p>ä½¿ç”¨ä¸€ä¸ªå‡½æ•°é—­åŒ…ä»å¤´åˆ›å»ºä¸€ä¸ªObservable,é€šè¿‡ .on(e: Event) æ·»åŠ äº‹ä»¶ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"create\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    </div><div class=\"line\">    <span class=\"keyword\">let</span> myJust = &#123; (element:<span class=\"type\">String</span>) -&gt; <span class=\"type\">Observable</span>&lt;<span class=\"type\">String</span>&gt; <span class=\"keyword\">in</span></div><div class=\"line\">    </div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Observable</span>.create&#123; observable <span class=\"keyword\">in</span></div><div class=\"line\">            </div><div class=\"line\">            observable.on(.next(element))</div><div class=\"line\">            </div><div class=\"line\">            observable.on(.completed)</div><div class=\"line\">            </div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"type\">Disposables</span>.create()</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">    myJust(<span class=\"string\">\"ğŸ\"</span>)</div><div class=\"line\">        .subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">            <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"range\"><a href=\"#range\" class=\"headerlink\" title=\"range\"></a>range</h2><p>åˆ›å»ºä¸€ä¸ªå‘å°„ç‰¹å®šæ•´æ•°åºåˆ—çš„Observable</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"range\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.range(start: <span class=\"number\">1</span>,<span class=\"built_in\">count</span>:<span class=\"number\">10</span>)</div><div class=\"line\">        .subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">            <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"repeatElement\"><a href=\"#repeatElement\" class=\"headerlink\" title=\"repeatElement\"></a>repeatElement</h2><p>åˆ›å»ºä¸€ä¸ªé‡å¤å‘å°„æŒ‡å®šæ•°æ®æˆ–æ•°æ®åºåˆ—çš„Observableï¼Œ</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"repeatElement\"</span> )&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.repeatElement(<span class=\"string\">\"ğŸ©\"</span>)</div><div class=\"line\">        .take(<span class=\"number\">3</span>)<span class=\"comment\">//åªå‘å°„3æ¬¡</span></div><div class=\"line\">        .subscribe&#123;<span class=\"built_in\">print</span>($<span class=\"number\">0</span>)&#125;</div><div class=\"line\">        .disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"generate\"><a href=\"#generate\" class=\"headerlink\" title=\"generate\"></a>generate</h2><p>å‘å°„æ‰€æœ‰æ¡ä»¶ä¸ºçœŸçš„å€¼çš„å“åº”åºåˆ—</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"generate\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"type\">Observable</span>.generate(initialState: <span class=\"number\">0</span>, condition: &#123; (<span class=\"type\">T</span>) -&gt; <span class=\"type\">Bool</span> <span class=\"keyword\">in</span></div><div class=\"line\">        </div><div class=\"line\">        <span class=\"type\">T</span> &lt; <span class=\"number\">3</span></div><div class=\"line\">        </div><div class=\"line\">    &#125;, iterate: &#123;  $<span class=\"number\">0</span> + <span class=\"number\">1</span>&#125;)</div><div class=\"line\">        .subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">          <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.addDisposableTo(<span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"deferred\"><a href=\"#deferred\" class=\"headerlink\" title=\"deferred\"></a>deferred</h2><p>deferred ä¼šç­‰åˆ°æœ‰è®¢é˜…è€…çš„æ—¶å€™å†é€šè¿‡å·¥å‚æ–¹æ³•åˆ›å»º Observable å¯¹è±¡ï¼Œæ¯ä¸ªè®¢é˜…è€…è®¢é˜…çš„å¯¹è±¡éƒ½æ˜¯å†…å®¹ç›¸åŒè€Œå®Œå…¨ç‹¬ç«‹çš„åºåˆ—ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"deferred\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> <span class=\"built_in\">count</span> = <span class=\"number\">1</span></div><div class=\"line\">    </div><div class=\"line\">    <span class=\"keyword\">let</span> disposeBag = <span class=\"type\">DisposeBag</span>()</div><div class=\"line\">    </div><div class=\"line\">    <span class=\"keyword\">let</span> deferredSequence = <span class=\"type\">Observable</span>.deferred(&#123; () -&gt; <span class=\"type\">Observable</span>&lt;<span class=\"type\">String</span>&gt; <span class=\"keyword\">in</span></div><div class=\"line\">        </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"creat---<span class=\"subst\">\\(<span class=\"built_in\">count</span>)</span>\"</span>)</div><div class=\"line\">        </div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Observable</span>.create&#123; observable <span class=\"keyword\">in</span></div><div class=\"line\">        </div><div class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"å‘å°„~~~~...\"</span>)</div><div class=\"line\">            observable.onNext(<span class=\"string\">\"ğŸ¶\"</span>)</div><div class=\"line\">            observable.onNext(<span class=\"string\">\"ğŸ±\"</span>)</div><div class=\"line\">            observable.onNext(<span class=\"string\">\"ğŸµ\"</span>)</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"type\">Disposables</span>.create()</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;)</div><div class=\"line\">    </div><div class=\"line\">    <span class=\"comment\">//ç¬¬ä¸€ä¸ªè®¢é˜…è€…</span></div><div class=\"line\">    </div><div class=\"line\">    deferredSequence.subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ç¬¬ä¸€ä¸ªè®¢é˜…è€…--------\"</span>)</div><div class=\"line\">        <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.disposed(by: disposeBag)</div><div class=\"line\">    </div><div class=\"line\">    </div><div class=\"line\">    <span class=\"comment\">//ç¬¬äºŒä¸ªè®¢é˜…è€…</span></div><div class=\"line\">    deferredSequence.subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ç¬¬äºŒä¸ªè®¢é˜…è€…\"</span>)</div><div class=\"line\">        <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.disposed(by: disposeBag)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"error\"><a href=\"#error\" class=\"headerlink\" title=\"error\"></a>error</h2><p>åˆ›å»ºä¸€ä¸ªä»€ä¹ˆéƒ½ä¸åšç›´æ¥é€šçŸ¥é”™è¯¯çš„Observable</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"error\"</span>)&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"class\"><span class=\"keyword\">enum</span> <span class=\"title\">testError</span>:<span class=\"title\">Error</span></span>&#123;</div><div class=\"line\">    </div><div class=\"line\">        <span class=\"keyword\">case</span> bigError</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">    <span class=\"type\">Observable</span>&lt;<span class=\"type\">Int</span>&gt;.error(testError.bigError).subscribe&#123;</div><div class=\"line\">    </div><div class=\"line\">        <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"doOn\"><a href=\"#doOn\" class=\"headerlink\" title=\"doOn\"></a>doOn</h2><p>doOn å¯ä»¥ç›‘å¬äº‹ä»¶ï¼Œå¹¶ä¸”åœ¨äº‹ä»¶å‘ç”Ÿä¹‹å‰è°ƒç”¨ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">exampleOf(description: <span class=\"string\">\"doOn\"</span>) &#123; </div><div class=\"line\">    </div><div class=\"line\">    <span class=\"type\">Observable</span>.of(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>).<span class=\"keyword\">do</span>(onNext: &#123; (event) <span class=\"keyword\">in</span></div><div class=\"line\">        <span class=\"built_in\">print</span>(event)</div><div class=\"line\">    &#125;, onError: &#123; (error) <span class=\"keyword\">in</span></div><div class=\"line\">        <span class=\"built_in\">print</span>(error)</div><div class=\"line\">    &#125;, onCompleted: &#123;</div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"å®Œæˆ\"</span>)</div><div class=\"line\">    &#125;, onSubscribe: &#123;</div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"è®¢é˜…\"</span>)</div><div class=\"line\">    &#125;, onDispose: &#123; </div><div class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"é‡Šæ”¾\"</span>)</div><div class=\"line\">    &#125;).subscribe&#123;</div><div class=\"line\">        </div><div class=\"line\">        <span class=\"built_in\">print</span>($<span class=\"number\">0</span>)</div><div class=\"line\">    &#125;.disposed(by: <span class=\"type\">DisposeBag</span>())</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<ul>\n<li>Demoåœ°å€<a href=\"https://github.com/RockyAo/RxSwift_learn\" target=\"_blank\" rel=\"external\">https://github.com/RockyAo/RxSwift_learn</a>.æˆ–è€…ç›´æ¥çœ‹å®˜æ–¹çš„demo</li>\n</ul>\n","prev":{"title":"RxSwift (äºŒ) Working with Subjects","slug":"RxSwift (äºŒ) Working with Subjects"},"next":{"title":"iOSå¼€å‘-è‡ªå®šä¹‰ç›¸æœºå…¥é—¨","slug":"iOSå¼€å‘-è‡ªå®šä¹‰ç›¸æœºå…¥é—¨"}}